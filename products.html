<!DOCTYPE html>
<html">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Product</title>

		<link href="style/styles.css" rel="stylesheet">
        <link href="style/menu.css" rel="stylesheet">
        <script src="data/CakesTortas.js"></script> 
        <script src="https://kit.fontawesome.com/0acb9352d1.js" crossorigin="anonymous"></script>
		<script>
			function setIDQueryStr(id){
				location.href="productdetail.html?ID=" + id;
			}
		</script>
    </head>
    <body>
        <header>
            <div class="bg-img">
                <div class="container">
                    <div class="topnav">
                        <a href="index.html">Home</a>
                        <a href="about.html">About</a>
                        <a href="contact.html">Contact</a>
                    </div>
                </div>
            </div>     
        </header>          
        <main>   

        <div class="item-type"><h3>Cupcakes</h3></div> 
            <div id = "cupcake"></div>            
        <br><br>
        <div class="item-type"><h3>Cakes</h3></div> 
            <div id = "torta"></div>


        <script>
            const obj = JSON.parse(cakesTortas); 
            var allItms = Object.keys(obj.cakes).map((i) => obj.cakes[i]);

                var strCakes = "<div class='flex-container'>";
                var strTortas = "<div class='flex-container'>";

                allItms.forEach(element => {
                    if (element.Type === "Cupcake") {
                        strCakes +=`<div class='item'> 	
                            <a href='javascript:void(0)'; onclick='setIDQueryStr("${element.ID}")'>
                            <img src='img/${element.Img}' class='item-img' title='${element.Name}' alt='${element.Name}'></a>
                            <a class='item-link' href='javascript:void(0)' onclick='setIDQueryStr("${element.ID}")'>
                            <div class='item-name'>${element.Name}</div></a>
                            <div><div class='item-price'>$${element.Price}</div></div><div class='item-btn'><button>Köp nu</button></div></div>`; 
                    }
                    else {
                        strTortas += `<div class='item'> 	
                            <a href='javascript:void(0)'; onclick='setIDQueryStr("${element.ID}")'>
                            <img src='img/${element.Img}' class='item-img' title='${element.Name}' alt='${element.Name}'></a>
                            <a class='item-link' href='javascript:void(0)' onclick='setIDQueryStr("${element.ID}")'>
                            <div class='item-name'>${element.Name}</div></a>
                            <div><div class='item-price'>$${element.Price}</div></div><div class='item-btn'><button>Köp nu</button></div></div>`;    
                    }
                });

            strCakes += "</div";
            strTortas += "</div";


            document.getElementById("cupcake").innerHTML = strCakes;
            document.getElementById("torta").innerHTML = strTortas;               
        
        </script>
        </main>
        <footer>        
            <p>Author: RF</p>        
                <p><a href="mailto:mail@email.com"><i class="fa-solid fa-paper-plane"></i>   mail@email.com</a></p>
                <div class="social-icons">
                    <a href="#"><i class="fa-brands fa-facebook"></i><span>&nbsp;munamiicupcakes</span></a>
                    <a href="#"><i class="fa-brands fa-instagram"></i><span>&nbsp;@munamii.cakery</span></a>  
                </div>         
        </footer>
	</body>
</html>